# STM32F103C8T6 baremetal

El código alojado en este repositorio se emplea como base para desarrollar proyecto de software *baremetal* escritos desde cero en lenguaje arm, bajo la sintaxis del GNU Assembler (GAS). El término programación *baremetal* hace referencia al hecho de desarrollar programas que serán ejecutados en un microcontrolador (µC) sin asistencia sistema operativo u otra capa de software que abstraiga la complejidad del hardware. Este tipo de programación se emplea para desarrollar aplicaciones de alto rendimiento que aprovechan al máximo los limitados recursos de cómputo propios de un µC. 

Académicamente, la programación *baremetal* permite que los estudiantes adquieran conocimientos profundos sobre la arquitectura del µC, entendiendo el término «arquitectura» como «*las relaciones estructurales que no son visibles al programador* [de lenguajes de alto nivel de abstracción], *tales como interfaces a los periféricos* [y sus registros de configuración], *la frecuencia del reloj o la tecnología usada por la memoria*» (Murdocca, 2007). Además, este tipo de programación permite experimentar directamente con el proceso de ensamble y enlace, los cuales se ven oscurecidos al compilar código escrito en C, por ejemplo.

## Motivación

Esta plantilla de proyecto es necesaria porque mucha de la documentación sobre ARM se presenta siguiendo la sintaxis propia del ensamblador privado (ARM assembly syntax) y no en GAS. Asimismo, existen muchos recursos virtuales en la web que permiten comenzar un proyecto de software, pero estos se codifican en C empleando la capa de abstracción de hardware de STM32 bajo un entorno de desarrollo integrado (IDE) como el STM32CubeIDE que ofrece todos los archivos necesarios para poder compilar, ensamblar y escribir un µC STM32. Estos recursos disponibles son de alto valor; sin embargo, no cubren la necesidad de aquellos que requieren comenzar un proyecto de software para un µC empleando herramientas de compilación libres.

En el libro «Embedded Systems with ARM Cortex-M Microcontrollers in Assembly Language and C» (Zhi, 2018) se explican diversos fragmentos de código, todos estos escritos con la sintaxis propia de ARM. En el apéndice A del libro antes referenciado se encuentra una explicación útil sobre similitudes entre la sintaxis del GAS y del ensamblador ARM. No obstante, esta explicación puede no ser suficiente para que un principiante que está comenzando a comprender la relación entre el lenguaje ensamblador y la arquitectura de los µC arm Cortex-M3 pueda comenzar un proyecto *baremetal* por su cuenta.

En GitHub y en Youtube se encuentran recursos que pueden emplearse para comenzar un proyecto de software *baremetal*. El código publicado en el repositorio stm32-asm-samples en por el usuario @lapers se emplea como base la generación de esta plantilla de proyecto. Además, el *script* de configuración del enlazador está basado en el código presentado en video «Bare metal embedded lecture-4: Writing linker scripts and section placement», publicado el canal FastBit Embedded Brain Academy.

